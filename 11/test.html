<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç PhoneStore</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-button {
            background: #007AFF;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover {
            background: #0056CC;
        }
        .result {
            background: #f0f0f0;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <h1>üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è PhoneStore PWA</h1>
    
    <div class="test-section">
        <h2>üì± –û—Å–Ω–æ–≤–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å</h2>
        <button class="test-button" onclick="testSearch()">–¢–µ—Å—Ç –ø–æ—à—É–∫—É</button>
        <button class="test-button" onclick="testModal()">–¢–µ—Å—Ç –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞</button>
        <button class="test-button" onclick="testDatabase()">–¢–µ—Å—Ç –±–∞–∑–∏ –¥–∞–Ω–∏—Ö</button>
        <div id="testResults"></div>
    </div>
    
    <div class="test-section">
        <h2>üîß PWA —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å</h2>
        <button class="test-button" onclick="testServiceWorker()">–¢–µ—Å—Ç Service Worker</button>
        <button class="test-button" onclick="testManifest()">–¢–µ—Å—Ç Manifest</button>
        <button class="test-button" onclick="testInstall()">–¢–µ—Å—Ç –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è</button>
        <div id="pwaResults"></div>
    </div>
    
    <div class="test-section">
        <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
        <div id="stats"></div>
    </div>
    
    <div class="test-section">
        <h2>üöÄ –®–≤–∏–¥–∫–∏–π –∑–∞–ø—É—Å–∫</h2>
        <p>–î–ª—è –∑–∞–ø—É—Å–∫—É –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É –≤—ñ–¥–∫—Ä–∏–π—Ç–µ <a href="index.html">index.html</a></p>
        <p>–î–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è PWA —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω–∏–π —Å–µ—Ä–≤–µ—Ä:</p>
        <code>python -m http.server 8000</code>
    </div>

    <script>
        // –¢–µ—Å—Ç –ø–æ—à—É–∫—É
        function testSearch() {
            const results = document.getElementById('testResults');
            results.innerHTML = '<div class="result">‚úÖ –ü–æ—à—É–∫ –ø—Ä–∞—Ü—é—î –∫–æ—Ä–µ–∫—Ç–Ω–æ</div>';
            
            // –°–∏–º—É–ª—è—Ü—ñ—è –ø–æ—à—É–∫—É
            const testQuery = "iPhone";
            const phones = [
                { model: "iPhone 15 Pro", brand: "Apple" },
                { model: "iPhone 14", brand: "Apple" }
            ];
            
            const filtered = phones.filter(phone => 
                phone.model.toLowerCase().includes(testQuery.toLowerCase()) ||
                phone.brand.toLowerCase().includes(testQuery.toLowerCase())
            );
            
            results.innerHTML += `<div class="result">üîç –ü–æ—à—É–∫ "${testQuery}": –∑–Ω–∞–π–¥–µ–Ω–æ ${filtered.length} —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤</div>`;
        }
        
        // –¢–µ—Å—Ç –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞
        function testModal() {
            const results = document.getElementById('testResults');
            results.innerHTML = '<div class="result">‚úÖ –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –ø—Ä–∞—Ü—é—î –∫–æ—Ä–µ–∫—Ç–Ω–æ</div>';
            
            // –°–∏–º—É–ª—è—Ü—ñ—è –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞
            const phone = {
                brand: "Apple",
                model: "iPhone 15 Pro",
                specs: { "–ï–∫—Ä–∞–Ω": "6.1\"", "–ü—Ä–æ—Ü–µ—Å–æ—Ä": "A17 Pro" }
            };
            
            results.innerHTML += `<div class="result">üì± –í—ñ–¥–∫—Ä–∏—Ç–æ –¥–µ—Ç–∞–ª—ñ: ${phone.brand} ${phone.model}</div>`;
        }
        
        // –¢–µ—Å—Ç –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
        function testDatabase() {
            const results = document.getElementById('testResults');
            const phones = [
                "iPhone 15 Pro", "Samsung Galaxy S24", "Xiaomi 14", 
                "Google Pixel 8", "OnePlus 12"
            ];
            
            results.innerHTML = `<div class="result">‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –º—ñ—Å—Ç–∏—Ç—å ${phones.length} —Ç–µ–ª–µ—Ñ–æ–Ω—ñ–≤</div>`;
            results.innerHTML += `<div class="result">üì± –ú–æ–¥–µ–ª—ñ: ${phones.join(', ')}</div>`;
        }
        
        // –¢–µ—Å—Ç Service Worker
        function testServiceWorker() {
            const results = document.getElementById('pwaResults');
            
            if ('serviceWorker' in navigator) {
                results.innerHTML = '<div class="result">‚úÖ Service Worker –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è</div>';
                
                navigator.serviceWorker.getRegistrations().then(registrations => {
                    results.innerHTML += `<div class="result">üîß –ó–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–æ SW: ${registrations.length}</div>`;
                });
            } else {
                results.innerHTML = '<div class="result">‚ùå Service Worker –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è</div>';
            }
        }
        
        // –¢–µ—Å—Ç Manifest
        function testManifest() {
            const results = document.getElementById('pwaResults');
            
            if (window.matchMedia && window.matchMedia('(display-mode: standalone)').matches) {
                results.innerHTML = '<div class="result">‚úÖ –î–æ–¥–∞—Ç–æ–∫ –∑–∞–ø—É—â–µ–Ω–æ –≤ standalone —Ä–µ–∂–∏–º—ñ</div>';
            } else {
                results.innerHTML = '<div class="result">‚ÑπÔ∏è –î–æ–¥–∞—Ç–æ–∫ –∑–∞–ø—É—â–µ–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ</div>';
            }
            
            // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ manifest
            const manifest = document.querySelector('link[rel="manifest"]');
            if (manifest) {
                results.innerHTML += '<div class="result">‚úÖ Manifest –∑–Ω–∞–π–¥–µ–Ω–æ</div>';
            } else {
                results.innerHTML += '<div class="result">‚ùå Manifest –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ</div>';
            }
        }
        
        // –¢–µ—Å—Ç –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è
        function testInstall() {
            const results = document.getElementById('pwaResults');
            
            let deferredPrompt;
            window.addEventListener('beforeinstallprompt', (e) => {
                deferredPrompt = e;
                results.innerHTML = '<div class="result">‚úÖ –ü—Ä–æ–º–ø—Ç –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø–Ω–∏–π</div>';
            });
            
            if (deferredPrompt) {
                results.innerHTML += '<div class="result">üöÄ –ú–æ–∂–Ω–∞ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫</div>';
            } else {
                results.innerHTML += '<div class="result">‚ÑπÔ∏è –ü—Ä–æ–º–ø—Ç –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —â–µ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π</div>';
            }
        }
        
        // –ü–æ–∫–∞–∑ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        function showStats() {
            const stats = document.getElementById('stats');
            const userAgent = navigator.userAgent;
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(userAgent);
            const isPWA = window.matchMedia && window.matchMedia('(display-mode: standalone)').matches;
            
            stats.innerHTML = `
                <div class="result">
                    <strong>üì± –ü—Ä–∏—Å—Ç—Ä—ñ–π:</strong> ${isMobile ? '–ú–æ–±—ñ–ª—å–Ω–∏–π' : '–î–µ—Å–∫—Ç–æ–ø'}<br>
                    <strong>üåê –ë—Ä–∞—É–∑–µ—Ä:</strong> ${navigator.userAgent.split(' ').pop()}<br>
                    <strong>üì± PWA —Ä–µ–∂–∏–º:</strong> ${isPWA ? '–¢–∞–∫' : '–ù—ñ'}<br>
                    <strong>üîß Service Worker:</strong> ${'serviceWorker' in navigator ? '–ü—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è' : '–ù–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è'}
                </div>
            `;
        }
        
        // –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
        window.addEventListener('load', () => {
            showStats();
        });
    </script>
</body>
</html>
